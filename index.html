<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

  <!-- Google Search Console Verification Meta Tag -->
  <meta name="google-site-verification" content="3iM4RS8iUYrjsUirdaXXeHrTv7AHj9sqmrU6jifDWDo" />

  <title>Online Image Compressor &amp; Resizer | Free Photo Tools</title>
  <meta
    name="description"
    content="Quickly compress and resize your images online for free. Perfect for photos, signatures, and more!"
  >
  <meta
    name="keywords"
    content="online image compressor, photo resizer, compress images, resize photos, image size reducer"
  >
  <!-- Optional Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet"
  >

  <style>
    :root {
      /* Light Mode BG */
      --bg-light: url("background.jpg") no-repeat center center fixed;
      --overlay-light: none;
      --text-color-light: #333;
      --container-bg-light: rgba(255, 255, 255, 0.85);

      /* Dark Mode BG */
      --bg-dark: url("background-dark.webp") no-repeat center center fixed;
      --overlay-dark: linear-gradient(rgba(0,0,0,0.2), rgba(0,0,0,0.2));
      --text-color-dark: #ddd;
      --container-bg-dark: rgba(0, 0, 0, 0.5);

      /* Shared Colors */
      --border-color: #aaa;
      --highlight-border: #66a6ff;
      --link-color: #008080;
      --dropzone-bg: #f9f9f9;
    }

    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      color: var(--text-color-light);
      background: var(--overlay-light), var(--bg-light);
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
      transition: color 0.3s ease;
    }
    .dark-mode {
      color: var(--text-color-dark);
      background: var(--overlay-dark), var(--bg-dark);
      background-size: cover;
      background-position: center center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      background-color: var(--container-bg-light);
      padding: 20px;
      border-radius: 8px;
      margin-top: 20px;
      transition: background-color 0.3s ease;
    }
    .dark-mode .container {
      background-color: var(--container-bg-dark);
    }

    /* The top bar with Dark Mode + Language Select */
    .top-bar {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    #themeToggle {
      background: #666;
      color: #fff;
      border: none;
      padding: 8px 14px;
      border-radius: 4px;
      cursor: pointer;
    }
    #themeToggle:hover {
      background: #555;
    }

    #languageSelect {
      padding: 5px;
      border-radius: 4px;
      border: 1px solid #ccc;
      font-size: 14px;
    }
    .dark-mode #languageSelect {
      background: #444;
      color: #fff;
      border: 1px solid #666;
    }

    h1 {
      text-align: center; /* ensures main heading is fully centered */
      margin-bottom: 20px;
      font-size: 200%;
    }

    .note {
      font-size: 14px;
      text-align: center;
      margin-bottom: 20px;
    }

    .grid-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      background: #f1f1f1;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
      transition: background-color 0.3s ease;
    }
    .dark-mode .form-group {
      background: #444;
    }

    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    .dark-mode label {
      color: var(--text-color-dark);
    }

    input[type="text"],
    input[type="number"],
    input[type="file"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
      font-size: 14px;
      box-sizing: border-box;
      color: #333;
    }

    #resizeBtn, #downloadBtn {
      display: block;
      margin: 10px auto;
      padding: 12px 20px;
      font-size: 16px;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    #resizeBtn {
      background: #66a6ff;
    }
    #resizeBtn:hover {
      background: #5595e6;
    }
    #resizeBtn:disabled {
      background: #aaa;
      cursor: not-allowed;
    }

    #downloadBtn {
      background: #4CAF50;
      display: none;
    }
    #downloadBtn:hover {
      background: #43a047;
    }

    .intro-text {
      font-size: 80%;
      margin-bottom: 20px;
    }

    .faq-section {
      margin-top: 40px;
      font-size: 75%;
    }

    .other-site-link {
      margin-top: 30px;
      padding: 15px;
      background: #f0fff0;
      border-radius: 6px;
      text-align: center;
      font-size: 0.95rem;
      transition: background-color 0.3s ease;
    }
    .dark-mode .other-site-link {
      background: #2f4f4f;
    }
    .other-site-link a {
      color: var(--link-color);
      font-weight: bold;
      transition: color 0.3s ease;
    }
    .dark-mode .other-site-link a {
      color: #66ffd2;
    }

    #dropZone {
      margin-top: 10px;
      border: 2px dashed var(--border-color);
      border-radius: 6px;
      padding: 20px;
      text-align: center;
      cursor: pointer;
      background-color: var(--dropzone-bg);
      transition: background-color 0.3s ease, border-color 0.3s ease;
    }
    .dark-mode #dropZone {
      background-color: #333;
      border-color: #666;
    }

    @media (max-width: 600px) {
      .top-bar {
        flex-direction: column;
        align-items: flex-start;
        gap: 5px;
      }
      #themeToggle, #languageSelect {
        float: none;
        display: block;
        margin: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Top bar with Dark Mode + Language Select -->
    <div class="top-bar">
      <button id="themeToggle">Dark Mode</button>
      <select id="languageSelect">
        <option value="en">English</option>
        <option value="hi">हिन्दी</option>
        <option value="ta">தமிழ்</option>
        <option value="bn">বাংলা</option>
        <option value="mr">मराठी</option>
        <option value="te">తెలుగు</option>
        <option value="kn">ಕನ್ನಡ</option>
        <option value="ml">മലയാളം</option>
      </select>
    </div>

    <!-- Main Heading: 'Custom Image Resizer' -->
    <h1 id="heading">Custom Image Resizer</h1>

    <!-- Intro text -->
    <div class="intro-text">
      <h2 id="subHeading">Why Use Our Online Image Compressor?</h2>
      <p id="introPara">
        Our online image compressor and photo resizer makes it easy
        to reduce file sizes without losing quality. Whether you need
        to upload a signature or optimize a product photo, this free
        tool saves you time and bandwidth.
      </p>
    </div>

    <!-- Note line -->
    <p id="noteLine" class="note">
      Provide either the width &amp; height range OR the exact dimensions (in inches @ dpi).
      <br><strong>Do not fill both.</strong>
    </p>

    <div class="grid-container">
      <!-- Column 1: Image Upload -->
      <div class="form-group">
        <label id="uploadLabel" for="imageUpload">Upload Image</label>
        <input type="file" id="imageUpload" accept="image/*" />

        <!-- Drag & Drop Box -->
        <div id="dropZone">
          <p style="margin:0;">Drag &amp; Drop Your Image Here (or Click)</p>
        </div>
      </div>

      <!-- Column 2: File Size Limits -->
      <div class="form-group">
        <label id="minSizeLabel">Min File Size (KB)</label>
        <input type="number" id="minSize" placeholder="e.g., 50" />
        <label id="maxSizeLabel">Max File Size (KB)</label>
        <input type="number" id="maxSize" placeholder="e.g., 300" />
      </div>
      <!-- Column 3: Width Range -->
      <div class="form-group">
        <label id="minWidthLabel">Min Width (px)</label>
        <input type="number" id="minWidth" placeholder="e.g., 300" />
        <label id="maxWidthLabel">Max Width (px)</label>
        <input type="number" id="maxWidth" placeholder="e.g., 600" />
      </div>
      <!-- Column 4: Height Range -->
      <div class="form-group">
        <label id="minHeightLabel">Min Height (px)</label>
        <input type="number" id="minHeight" placeholder="e.g., 300" />
        <label id="maxHeightLabel">Max Height (px)</label>
        <input type="number" id="maxHeight" placeholder="e.g., 600" />
      </div>
      <!-- Column 5: Exact Dimensions -->
      <div class="form-group">
        <label id="exactDimLabel">Exact Dimensions (inches @ dpi)</label>
        <input type="text" id="dimensions" placeholder="e.g., 2x2 @300" />
      </div>
    </div>

    <!-- Resize & Download Buttons -->
    <button id="resizeBtn" disabled>Resize</button>
    <button id="downloadBtn">Download Resized Image</button>
    <!-- Hidden Canvas -->
    <canvas id="canvas" style="display: none;"></canvas>

    <!-- Note Paragraph -->
    <p id="notePara" style="font-style: italic; margin-top: 20px;">
      *Note: If you want to resize an image to a specific dimension (for example, 300×400),
      simply enter 300 in both the Min Width and Max Width fields, and 400 in both the
      Min Height and Max Height fields.
    </p>

    <!-- FAQ Section -->
    <div class="faq-section">
      <h2 id="faqHeading">Frequently Asked Questions (FAQ)</h2>

      <h3 id="faqQ1">Will compressing my image reduce its quality?</h3>
      <p id="faqA1">
        Our online image compressor does its best to maintain
        high-quality results. You can resize and compress without losing too much detail.
      </p>

      <h3 id="faqQ2">How do I resize an image without losing clarity?</h3>
      <p id="faqA2">
        Use our photo resizer feature to adjust width and height
        while preserving aspect ratio. This helps maintain image clarity.
      </p>
    </div>

    <!-- Link to Govt Photo Resizer -->
    <div class="other-site-link">
      <p>
        Applying for government exams?
        <a href="https://roseneinstein.github.io/govt-photo-resizer/" target="_blank">
          Check out our Govt Exams Photo Resizer
        </a>
        to see upcoming exams and resize your photo/signature <strong>automatically!</strong>
      </p>
    </div>
  </div>

  <script>
    /* ---------------------------
       1) DARK/LIGHT MODE TOGGLE
    --------------------------- */
    const themeToggle = document.getElementById('themeToggle');

    function loadTheme() {
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'dark') {
        document.body.classList.add('dark-mode');
        themeToggle.textContent = 'Light Mode';
      } else {
        document.body.classList.remove('dark-mode');
        themeToggle.textContent = 'Dark Mode';
      }
    }

    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      if (document.body.classList.contains('dark-mode')) {
        localStorage.setItem('theme', 'dark');
        themeToggle.textContent = 'Light Mode';
      } else {
        localStorage.setItem('theme', 'light');
        themeToggle.textContent = 'Dark Mode';
      }
    });

    loadTheme(); // Initialize on page load

    /* ---------------------------
       2) MULTI-LINGUAL SUPPORT
    --------------------------- */
    const translations = {
      en: {
        heading: "Custom Image Resizer",
        subHeading: "Why Use Our Online Image Compressor?",
        introPara: "Our online image compressor and photo resizer makes it easy to reduce file sizes without losing quality...",
        noteLine: "Provide either the width & height range OR the exact dimensions (in inches @ dpi). Do not fill both.",
        uploadLabel: "Upload Image",
        minSizeLabel: "Min File Size (KB)",
        maxSizeLabel: "Max File Size (KB)",
        minWidthLabel: "Min Width (px)",
        maxWidthLabel: "Max Width (px)",
        minHeightLabel: "Min Height (px)",
        maxHeightLabel: "Max Height (px)",
        exactDimLabel: "Exact Dimensions (inches @ dpi)",
        resizeBtn: "Resize",
        downloadBtn: "Download Resized Image",
        notePara: "*Note: If you want to resize an image to a specific dimension (e.g., 300×400), just enter 300 in both Width fields and 400 in both Height fields.",
        faqHeading: "Frequently Asked Questions (FAQ)",
        faqQ1: "Will compressing my image reduce its quality?",
        faqA1: "Our online image compressor does its best to maintain high-quality results...",
        faqQ2: "How do I resize an image without losing clarity?",
        faqA2: "Use our photo resizer feature to adjust width and height while preserving aspect ratio..."
      },

      hi: {
        heading: "कस्टम इमेज रीसाइज़र",
        subHeading: "हमारा ऑनलाइन इमेज कंप्रेसर क्यों उपयोग करें?",
        introPara: "हमारा ऑनलाइन इमेज कंप्रेसर और फोटो रीसाइज़र आपके फोटो का आकार कम गुणवत्ता खोए बिना आसान बनाता है...",
        noteLine: "या तो चौड़ाई-ऊँचाई की रेंज दें या इंच @ डीपीआई में सटीक आयाम। दोनों न भरें।",
        uploadLabel: "इमेज अपलोड करें",
        minSizeLabel: "न्यूनतम फ़ाइल साइज़ (KB)",
        maxSizeLabel: "अधिकतम फ़ाइल साइज़ (KB)",
        minWidthLabel: "न्यूनतम चौड़ाई (px)",
        maxWidthLabel: "अधिकतम चौड़ाई (px)",
        minHeightLabel: "न्यूनतम ऊँचाई (px)",
        maxHeightLabel: "अधिकतम ऊँचाई (px)",
        exactDimLabel: "सटीक आयाम (इंच @ डीपीआई)",
        resizeBtn: "रीसाइज़",
        downloadBtn: "रीसाइज़्ड इमेज डाउनलोड करें",
        notePara: "*नोट: यदि आपको कोई विशिष्ट आयाम चाहिए (जैसे 300×400), तो दोनों चौड़ाई बॉक्स में 300 और दोनों ऊँचाई बॉक्स में 400 भरें।",
        faqHeading: "अक्सर पूछे जाने वाले प्रश्न (FAQ)",
        faqQ1: "क्या इमेज को कंप्रेस करने से गुणवत्ता कम होगी?",
        faqA1: "हमारा ऑनलाइन इमेज कंप्रेसर गुणवत्ता बनाए रखने की पूरी कोशिश करता है...",
        faqQ2: "बिना स्पष्टता खोए इमेज कैसे रीसाइज़ करें?",
        faqA2: "हमारे फोटो रीसाइज़र फीचर का उपयोग करें जो चौड़ाई और ऊँचाई को पहलू अनुपात के साथ समायोजित करता है..."
      },

      ta: {
        heading: "கஸ்டம் இமேஜ் ரிசைசர்",
        subHeading: "எங்கள் ஆன்லைன் படச் சுருக்கி ஏன் பயன்படுத்த வேண்டும்?",
        introPara: "எங்கள் ஆன்லைன் படச் சுருக்கி மற்றும் ஃபோட்டோ ரிசைசர், தரத்தைக் குறையாமல் படங்களை எளிதாகச் சுருக்க உதவுகிறது...",
        noteLine: "விரிந்த அகலம்-உயரம் அல்லது சரியான பரிமாணங்கள் (அங்குலம் @ dpi) ஒன்றை மட்டும் அளிக்கவும். இரண்டையும் நிரப்ப வேண்டாம்.",
        uploadLabel: "படத்தை பதிவேற்றவும்",
        minSizeLabel: "குறைந்தபட்ச கோப்பின் அளவு (KB)",
        maxSizeLabel: "அதிகபட்ச கோப்பின் அளவு (KB)",
        minWidthLabel: "குறைந்தபட்ச அகலம் (px)",
        maxWidthLabel: "அதிகபட்ச அகலம் (px)",
        minHeightLabel: "குறைந்தபட்ச உயரம் (px)",
        maxHeightLabel: "அதிகபட்ச உயரம் (px)",
        exactDimLabel: "சரியான பரிமாணங்கள் (அங்குலம் @ dpi)",
        resizeBtn: "ரிசைஸ்",
        downloadBtn: "ரிசைஸ் செய்த படத்தை பதிவிறக்கவும்",
        notePara: "*குறிப்பு: ஒரு குறிப்பிட்ட பரிமாணத்திற்கு (உதா. 300×400) வேண்டுமென்றால், அகலம் பெட்டிகளில் இரண்டு முறையும் 300, உயரம் பெட்டிகளில் இரண்டு முறையும் 400 என்று இடவும்.",
        faqHeading: "அடிக்கடி கேட்கப்படும் கேள்விகள் (FAQ)",
        faqQ1: "படத்தைச் சுருக்குவதால் தரம் குறையுமா?",
        faqA1: "எங்கள் ஆன்லைன் படச் சுருக்கி தரத்தை அதிகம் இழக்காமல் பாதுகாக்க முயற்சி செய்கிறது...",
        faqQ2: "தரத்தை இழக்காமல் படத்தை எவ்வாறு ரிசைஸ் செய்வது?",
        faqA2: "அகலம் மற்றும் உயரத்தை நிர்ணயித்து, அசுபா (aspect ratio) காக்க எங்கள் ஃபோட்டோ ரிசைசரை பயன்படுத்தவும்..."
      },

      bn: {
        heading: "কাস্টম ইমেজ রিসাইজার",
        subHeading: "কেন আমাদের অনলাইন ইমেজ কমপ্রেসর ব্যবহার করবেন?",
        introPara: "আমাদের অনলাইন ইমেজ কমপ্রেসর ও ফটো রিসাইজার আপনাকে সহজে ছবির সাইজ কমাতে সাহায্য করে, মানের ক্ষতি ছাড়াই...",
        noteLine: "দয়া করে শুধুমাত্র প্রস্থ-উচ্চতার পরিসর বা (ইঞ্চি @ ডিপিআই) সঠিক মাত্রা দিন। উভয়ই পূরণ করবেন না।",
        uploadLabel: "ছবি আপলোড করুন",
        minSizeLabel: "সর্বনিম্ন ফাইল সাইজ (KB)",
        maxSizeLabel: "সর্বোচ্চ ফাইল সাইজ (KB)",
        minWidthLabel: "সর্বনিম্ন প্রস্থ (px)",
        maxWidthLabel: "সর্বোচ্চ প্রস্থ (px)",
        minHeightLabel: "সর্বনিম্ন উচ্চতা (px)",
        maxHeightLabel: "সর্বোচ্চ উচ্চতা (px)",
        exactDimLabel: "সঠিক মাত্রা (ইঞ্চি @ ডিপিআই)",
        resizeBtn: "রিসাইজ",
        downloadBtn: "রিসাইজড ইমেজ ডাউনলোড",
        notePara: "*নোট: নির্দিষ্ট মাত্রার জন্য (যেমন 300×400) চাইলে, উভয় প্রস্থ ঘরে 300 এবং উভয় উচ্চতা ঘরে 400 লিখুন।",
        faqHeading: "প্রায়শই জিজ্ঞাসিত প্রশ্ন (FAQ)",
        faqQ1: "ছবি কমপ্রেস করলে কি মান কমে যাবে?",
        faqA1: "আমাদের অনলাইন ইমেজ কমপ্রেসর মান বজায় রাখার চেষ্টা করে...",
        faqQ2: "মান না হারিয়ে কীভাবে ছবি রিসাইজ করব?",
        faqA2: "আমাদের ফটো রিসাইজার ব্যবহার করুন, যেখানে প্রস্থ ও উচ্চতা অ্যাসপেক্ট রেশিও ধরে সামঞ্জস্য করা যায়..."
      },

      mr: {
        heading: "कस्टम इमेज रिसायझर",
        subHeading: "आपले ऑनलाइन इमेज कंप्रेसर का वापरावे?",
        introPara: "आमचे ऑनलाइन इमेज कंप्रेसर व फोटो रिसायझर तुम्हाला फोटोचा आकार कमी करण्यास मदत करते, गुणवत्तेत फारसा फरक न पडू देता...",
        noteLine: "कृपया फक्त रुंदी-उंची श्रेणी किंवा (इंच @ dpi) मधील अचूक परिमाण द्या. दोन्ही भरू नका.",
        uploadLabel: "इमेज अपलोड करा",
        minSizeLabel: "किमान फाइल साइज (KB)",
        maxSizeLabel: "कमाल फाइल साइज (KB)",
        minWidthLabel: "किमान रुंदी (px)",
        maxWidthLabel: "कमाल रुंदी (px)",
        minHeightLabel: "किमान उंची (px)",
        maxHeightLabel: "कमाल उंची (px)",
        exactDimLabel: "अचूक परिमाण (इंच @ dpi)",
        resizeBtn: "रिसायझ करा",
        downloadBtn: "रिसायझ केलेले इमेज डाउनलोड करा",
        notePara: "*नोट: जर तुम्हाला एखादे विशिष्ट परिमाण हवे असेल (उदा. 300×400), तर दोन्ही रुंदी बॉक्समध्ये 300 आणि दोन्ही उंची बॉक्समध्ये 400 लिहा.",
        faqHeading: "वारंवार विचारले जाणारे प्रश्न (FAQ)",
        faqQ1: "इमेज कंप्रेस केल्यास गुणवत्ता कमी होईल का?",
        faqA1: "आमचे ऑनलाइन इमेज कंप्रेसर गुणवत्ता टिकवून ठेवण्यासाठी प्रयत्न करते...",
        faqQ2: "स्पष्टता न गमावता इमेज कशी रिसायझ करावी?",
        faqA2: "आमचे फोटो रिसायझर वापरा जे रुंदी आणि उंची बद्दल गुणोत्तर राखून बदलू देते..."
      },

      te: {
        heading: "కస్టమ్ ఇమేజ్ రీసైజర్",
        subHeading: "మా ఆన్‌లైన్ ఇమేజ్ కాంప్రెసర్ ఎందుకు ఉపయోగించాలి?",
        introPara: "మా ఆన్‌లైన్ ఇమేజ్ కాంప్రెసర్, ఫోటో రీసైజర్ ఉపయోగించి మీరు ఫోటోల పరిమాణాన్ని నాణ్యత తగ్గకుండా ఈజీగా తగ్గించవచ్చు...",
        noteLine: "దయచేసి వెడల్పు-ఎత్తు శ్రేణి లేదా (ఇంచ్ @ dpi) లో ఖచ్చితమైన కొలతలు ఇవ్వండి. రెండూ ఒకేసారి ఇవ్వొద్దు.",
        uploadLabel: "ఇమేజ్ ఎక్కించండి",
        minSizeLabel: "కనీస ఫైల్ పరిమాణం (KB)",
        maxSizeLabel: "గరిష్ఠ ఫైల్ పరిమాణం (KB)",
        minWidthLabel: "కనీస వెడల్పు (px)",
        maxWidthLabel: "గరిష్ఠ వెడల్పు (px)",
        minHeightLabel: "కనీస ఎత్తు (px)",
        maxHeightLabel: "గరిష్ఠ ఎత్తు (px)",
        exactDimLabel: "ఖచ్చితమైన కొలతలు (అంగుళాలు @ dpi)",
        resizeBtn: "రీసైజ్",
        downloadBtn: "రీసైజ్ చేసిన ఇమేజ్ డౌన్‌లోడ్",
        notePara: "*నోట్: ఒక నిర్దిష్ట కొలతకు (ఉదా. 300×400) మార్పుచేయాలంటే, వెడల్పు బాక్సుల్లో రెండింటిలోనూ 300, ఎత్తు బాక్సుల్లో రెండింటిలోనూ 400 నమోదు చేయండి.",
        faqHeading: "అడికిగా అడిగే ప్రశ్నలు (FAQ)",
        faqQ1: "ఫోటోని కాంప్రెస్ చేయడంతో నాణ్యత తగ్గుతుందా?",
        faqA1: "మా ఆన్‌లైన్ ఇమేజ్ కాంప్రెసర్ మంచి నాణ్యతను నిలబెట్టేందుకు ప్రయత్నిస్తుంది...",
        faqQ2: "నాణ్యతను కోల్పోకుండా ఫోటోను ఎలా రీసైజ్ చేయాలి?",
        faqA2: "రెండూ వెడల్పు, ఎత్తును స్పెసిఫై చేసుకుని మెయింటేన్ చేయడానికి మా ఫోటో రీసైజర్ ఉపయోగించండి..."
      },

      kn: {
        heading: "ಕಸ್ಟಮ್ ಇಮೇಜ್ ರೀಸೈಝರ್",
        subHeading: "ನಮ್ಮ ಆನ್‍ಲೈನ್ ಚಿತ್ರ ಸಾಂಕುचितಗೊಳಿಸುವ ಸಾಧನವನ್ನು ಯಾಕೆ ಬಳಸು?",
        introPara: "ನಮ್ಮ ಆನ್‍ಲೈನ್ ಚಿತ್ರ ಸಾಂಕುचितಗೊಳಿಸುವ ಸಾಧನ ಮತ್ತು ಫೋಟೊ ರೀಸೈಝರ್ ಬಳಸಿ, ಚಿತ್ರಗಳ ಗಾತ್ರವನ್ನು ಗುಣಮಟ್ಟ ಕಡಿಮೆಯಾಗದೆ ಸುಲಭವಾಗಿ ಕಡಿಮೆ ಮಾಡಬಹುದು...",
        noteLine: "ದಯವಿಟ್ಟು ಅಗಲ-ಎತ್ತರ ಶ್ರೇಣಿ ಅಥವಾ (ಇಂಚು @ dpi) ಯಲ್ಲಿ ನಿಖರವಾದ ಆಯಾಮವನ್ನು ಒದಗಿಸಿ. ಎರಡನ್ನೂ ಭರ್ತಿಮಾಡಬೇಡಿ.",
        uploadLabel: "ಚಿತ್ರವನ್ನು ಅಪ್ಲೋಡ್ ಮಾಡಿ",
        minSizeLabel: "ಕನಿಷ್ಟ ಫೈಲ್ ಗಾತ್ರ (KB)",
        maxSizeLabel: "ಗರಿಷ್ಟ ಫೈಲ್ ಗಾತ್ರ (KB)",
        minWidthLabel: "ಕನಿಷ್ಟ ಅಗಲ (px)",
        maxWidthLabel: "ಗರಿಷ್ಟ ಅಗಲ (px)",
        minHeightLabel: "ಕನಿಷ್ಟ ಎತ್ತರ (px)",
        maxHeightLabel: "ಗರಿಷ್ಟ ಎತ್ತರ (px)",
        exactDimLabel: "ನಿಖರವಾದ ಆಯಾಮ (ಇಂಚು @ dpi)",
        resizeBtn: "ರೀಸೈಝ್",
        downloadBtn: "ರೀಸೈಝ್ ಮಾಡಿದ ಚಿತ್ರ ಡೌನ್‍ಲೋಡ್ ಮಾಡಿ",
        notePara: "*ಸೂಚನೆ: ನಿರ್ದಿಷ್ಟ ಆಯಾಮ (ಉದಾ. 300×400) ಬೇಕಾದರೆ, ಎರಡೂ ಅಗಲ ಬಾಕ್ಸುಗಳಲ್ಲಿ 300 ಹಾಗೂ ಎರಡೂ ಎತ್ತರ ಬಾಕ್ಸುಗಳಲ್ಲಿ 400 ಎಂದು ಬರೆಯಿರಿ.",
        faqHeading: "ನೆಚ್ಚಿನ ಪ್ರಶ್ನೆಗಳು (FAQ)",
        faqQ1: "ಚಿತ್ರವನ್ನು ಸಾಂಕುचितಗೊಳಿಸಿದರೆ ಗುಣಮಟ್ಟ ಕಡಿಮೆಯಾಗುತ್ತದೆ?",
        faqA1: "ನಮ್ಮ ಆನ್‍ಲೈನ್ ಚಿತ್ರ ಸಾಂಕುचितಗೊಳಿಸುವ ಸಾಧನ ಗುಣಮಟ್ಟವನ್ನು ಸಾಧ್ಯವಾದಷ್ಟು ಉಳಿಸಲು ಪ್ರಯತ್ನಿಸುತ್ತದೆ...",
        faqQ2: "ಗುಣಮಟ್ಟವನ್ನು ತಪ್ಪದೆ ಚಿತ್ರವನ್ನು ರೀಸೈಝ್ ಮಾಡುವುದು ಹೇಗೆ?",
        faqA2: "ಅಗಲ ಮತ್ತು ಎತ್ತರವನ್ನು ನಿರ್ದಿಷ್ಟಗೊಳಿಸಿ, ಭಾಗಲಬಯಾಕು ಉಳಿಸಿಕೊಳ್ಳಲು ನಮ್ಮ ಫೋಟೊ ರೀಸೈಝರ್ ಬಳಸಿ..."
      },

      ml: {
        heading: "കസ്റ്റം ഇമേജ് റീസൈസർ",
        subHeading: "ഞങ്ങളുടെ ഓൺലൈൻ ഇമേജ് കോംപ്രസ്സർ എന്തിന് ഉപയോഗിക്കാം?",
        introPara: "ഞങ്ങളുടെ ഓൺലൈൻ ഇമേജ് കോംപ്രസ്സറും ഫോട്ടോ റീസൈസറുമൊത്തു, ഗുണനിലവാരം കുറയ്ക്കാതെ ഫോട്ടോകളുടെ വലിപ്പം ലളിതമായി കുറയ്ക്കാം...",
        noteLine: "വീതം-ഉയരം റേഞ്ച് അല്ലെങ്കിൽ (ഇഞ്ച് @ dpi) എന്നതിൽ ശരിയായ വലിപ്പം മാത്രം നൽകുക. രണ്ടും നൽകേണ്ടതില്ല.",
        uploadLabel: "ഇമേജ് അപ്ലോഡ് ചെയ്യുക",
        minSizeLabel: "കുറഞ്ഞ ഫയൽ സൈസ് (KB)",
        maxSizeLabel: "അധികം ഫയൽ സൈസ് (KB)",
        minWidthLabel: "കുറഞ്ഞ വീതി (px)",
        maxWidthLabel: "അധികം വീതി (px)",
        minHeightLabel: "കുറഞ്ഞ ഉയരം (px)",
        maxHeightLabel: "അധികം ഉയരം (px)",
        exactDimLabel: "ശരിയായ വലിപ്പം (ഇഞ്ച് @ dpi)",
        resizeBtn: "റീസൈസ്",
        downloadBtn: "റീസൈസ് ചെയ്ത ചിത്രം ഡൗൺലോഡ്",
        notePara: "*ശ്രദ്ധിക്കുക: ഒരു നിർദ്ദിഷ്ട വലിപ്പം വേണമെങ്കിൽ (ഉദാ. 300×400), വീതി ബോക്സിൽ 300, ഉയരം ബോക്സിൽ 400 എന്ന് എഴുതുക.",
        faqHeading: "പതിവ് ചോദ്യങ്ങൾ (FAQ)",
        faqQ1: "ഇമേജ് കോംപ്രസ് ചെയ്താൽ ഗുണനിലവാരം കുറയുമോ?",
        faqA1: "ഞങ്ങളുടെ ഓൺലൈൻ ഇമേജ് കോംപ്രസ്സർ ഗുണനിലവാരം സാധ്യമായത്ര സംരക്ഷിക്കാൻ ശ്രമിക്കുന്നു...",
        faqQ2: "ഗുണനിലവാരം നഷ്ടമില്ലാതെ ചിത്രം എങ്ങനെ റീസൈസ് ചെയ്യാം?",
        faqA2: "വീതി, ഉയരം അനുപാതം പാലിച്ചുകൊണ്ട് മാറ്റാൻ ഞങ്ങളുടെ ഫോട്ടോ റീസൈസർ ഉപയോഗിക്കുക..."
      }
    };

    let currentLang = 'en';

    function updateLanguage(lang) {
      currentLang = lang;
      const t = translations[lang] || translations.en; // fallback if missing

      document.getElementById('heading').textContent      = t.heading;
      document.getElementById('subHeading').textContent  = t.subHeading;
      document.getElementById('introPara').textContent   = t.introPara;
      document.getElementById('noteLine').innerHTML      = t.noteLine; // has <br>
      document.getElementById('uploadLabel').textContent = t.uploadLabel;
      document.getElementById('minSizeLabel').textContent = t.minSizeLabel;
      document.getElementById('maxSizeLabel').textContent = t.maxSizeLabel;
      document.getElementById('minWidthLabel').textContent = t.minWidthLabel;
      document.getElementById('maxWidthLabel').textContent = t.maxWidthLabel;
      document.getElementById('minHeightLabel').textContent = t.minHeightLabel;
      document.getElementById('maxHeightLabel').textContent = t.maxHeightLabel;
      document.getElementById('exactDimLabel').textContent = t.exactDimLabel;
      document.getElementById('resizeBtn').textContent    = t.resizeBtn;
      document.getElementById('downloadBtn').textContent  = t.downloadBtn;
      document.getElementById('notePara').textContent     = t.notePara;
      document.getElementById('faqHeading').textContent   = t.faqHeading;
      document.getElementById('faqQ1').textContent        = t.faqQ1;
      document.getElementById('faqA1').textContent        = t.faqA1;
      document.getElementById('faqQ2').textContent        = t.faqQ2;
      document.getElementById('faqA2').textContent        = t.faqA2;
    }

    function loadSavedLanguage() {
      const savedLang = localStorage.getItem('lang') || 'en';
      languageSelect.value = savedLang;
      updateLanguage(savedLang);
    }

    const languageSelect = document.getElementById('languageSelect');
    languageSelect.addEventListener('change', () => {
      const chosenLang = languageSelect.value;
      updateLanguage(chosenLang);
      localStorage.setItem('lang', chosenLang);
    });

    loadSavedLanguage();

    /* ---------------------------
       3) Existing Resizer Logic
    --------------------------- */
    const imageUpload = document.getElementById('imageUpload');
    const minSize = document.getElementById('minSize');
    const maxSize = document.getElementById('maxSize');
    const minWidth = document.getElementById('minWidth');
    const maxWidth = document.getElementById('maxWidth');
    const minHeight = document.getElementById('minHeight');
    const maxHeight = document.getElementById('maxHeight');
    const dimensions = document.getElementById('dimensions');
    const resizeBtn = document.getElementById('resizeBtn');
    const downloadBtn = document.getElementById('downloadBtn');
    const canvas = document.getElementById('canvas');

    let resizedImageDataURL = '';

    function resetDownload() {
      downloadBtn.style.display = 'none';
      resizedImageDataURL = '';
    }

    function validateInputs() {
      if (!imageUpload.files || imageUpload.files.length === 0) return false;
      if (!minSize.value || !maxSize.value) return false;
      const rangeProvided = minWidth.value && maxWidth.value && minHeight.value && maxHeight.value;
      const exactProvided = dimensions.value;
      if (!rangeProvided && !exactProvided) return false;
      return true;
    }

    function updateResizeButton() {
      resizeBtn.disabled = !validateInputs();
    }

    [imageUpload, minSize, maxSize, minWidth, maxWidth, minHeight, maxHeight, dimensions].forEach(input => {
      input.addEventListener('input', () => {
        resetDownload();
        updateResizeButton();
      });
    });

    function dataURLSizeKB(dataURL) {
      const base64Str = dataURL.split(',')[1];
      const sizeInBytes = Math.floor((base64Str.length * 3) / 4);
      return sizeInBytes / 1024;
    }

    function getDataURLWithSizeConstraints(minKB, maxKB, callback) {
      let quality = 0.9;
      const step = 0.05;
      let dataURL = canvas.toDataURL('image/jpeg', quality);
      let sizeKB = dataURLSizeKB(dataURL);

      while (sizeKB > maxKB && quality > 0.1) {
        quality -= step;
        dataURL = canvas.toDataURL('image/jpeg', quality);
        sizeKB = dataURLSizeKB(dataURL);
      }

      while (sizeKB < minKB && quality < 1.0) {
        quality += step;
        if (quality > 1.0) quality = 1.0;
        dataURL = canvas.toDataURL('image/jpeg', quality);
        sizeKB = dataURLSizeKB(dataURL);
        if (quality === 1.0) break;
      }
      callback(dataURL, quality, sizeKB);
    }

    resizeBtn.addEventListener('click', function () {
      const rangeProvided = minWidth.value && maxWidth.value && minHeight.value && maxHeight.value;
      const exactProvided = dimensions.value;
      if (rangeProvided && exactProvided) {
        alert("Please provide either the width & height ranges or the exact dimensions (in inches @ dpi), not both.");
        return;
      }
      if (!validateInputs()) {
        alert('Please fill in all required fields.');
        return;
      }
      const file = imageUpload.files[0];
      const reader = new FileReader();
      reader.onload = function (event) {
        const img = new Image();
        img.onload = function () {
          let newWidth, newHeight;
          if (exactProvided) {
            const parts = dimensions.value.split('@');
            if (parts.length === 2) {
              const dims = parts[0].trim().split('x');
              if (dims.length === 2) {
                const dpi = parseInt(parts[1].trim());
                const inchesWidth = parseFloat(dims[0]);
                const inchesHeight = parseFloat(dims[1]);
                newWidth = Math.round(inchesWidth * dpi);
                newHeight = Math.round(inchesHeight * dpi);
              }
            }
          } else {
            newWidth = parseInt(minWidth.value);
            newHeight = parseInt(minHeight.value);
          }
          canvas.width = newWidth;
          canvas.height = newHeight;
          const ctx = canvas.getContext('2d');
          ctx.drawImage(img, 0, 0, newWidth, newHeight);

          getDataURLWithSizeConstraints(parseInt(minSize.value), parseInt(maxSize.value), function(dataURL, qualityUsed, finalSizeKB) {
            resizedImageDataURL = dataURL;
            downloadBtn.style.display = 'block';
            alert("Resize successful! Your image meets the size criteria. Final file size: "
              + finalSizeKB.toFixed(1)
              + " KB. Click the Download button to save your image."
            );
          });
        };
        img.src = event.target.result;
      };
      reader.readAsDataURL(file);
    });

    downloadBtn.addEventListener('click', function () {
      if (!resizedImageDataURL) return;
      const link = document.createElement('a');
      link.href = resizedImageDataURL;
      link.download = 'resized-image.jpg';
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    });

    /* --- DRAG & DROP LOGIC --- */
    const dropZone = document.getElementById('dropZone');
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      dropZone.addEventListener(eventName, e => {
        e.preventDefault();
        e.stopPropagation();
      }, false);
    });
    dropZone.addEventListener('dragover', () => {
      dropZone.style.borderColor = 'var(--highlight-border)';
    });
    dropZone.addEventListener('dragleave', () => {
      dropZone.style.borderColor = 'var(--border-color)';
    });
    dropZone.addEventListener('drop', () => {
      dropZone.style.borderColor = 'var(--border-color)';
    });
    dropZone.addEventListener('drop', e => {
      const droppedFiles = e.dataTransfer.files;
      if (droppedFiles && droppedFiles.length > 0) {
        imageUpload.files = droppedFiles;
        imageUpload.dispatchEvent(new Event('input'));
      }
    });
    dropZone.addEventListener('click', () => {
      imageUpload.click();
    });
  </script>
</body>
</html>
